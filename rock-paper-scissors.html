<!DOCTYPE html>
<html>
    <head>
        <title>Rock, Paper, Scissors</title>
        <meta charset="UTF-8">
    </head>
    <body>
        <script>
            function random(num) {
                return Math.floor(Math.random() * (num + 1));
            }
            
            function computerPlay() {
                let play = random(3);
                let hand;

                switch (play) {
                    case 0:
                        hand = "rock";
                        break;
                    case 1:
                        hand = "paper";
                        break;
                    case 2:
                        hand = "scissors";
                        break;
                    default:
                        hand = "";
                        console.log("Something went wrong when choosing paper, rock, or scissors");
                }

                return hand;
            }

            function playRound(playerSelection, computerSelection) {
                let win;
                
                if (playerSelection == "rock" && computerSelection == "scissors" || playerSelection == "scissors" && computerSelection == "paper" || playerSelection == "paper" && computerSelection == "rock") {
                    win = "player";
                } else if (computerSelection == "rock" && playerSelection == "scissors" || computerSelection == "scissors" && playerSelection == "paper" || computerSelection == "paper" && playerSelection == "rock") {
                    win = "computer";
                } else {
                    win = "tie";
                }

                if (win == "player") {
                    return `You win! ${playerSelection} beats ${computerSelection}`;
                } else if (win = "computer") {
                    return `You lose! ${computerSelection} beats ${playerSelection}`;
                } else {
                    return `It's a tie!`;
                }
            }

            function game() {
                let playerSelection;
                let computerSelection;
                let outcome;

                for (let i; i <= 5; i++) {
                    playerSelection = prompt("Rock, Paper, or Scissors?");
                    //clean up input
                    playerSelection = playerSelection.toLowerCase();

                    computerSelection = computerPlay();

                    outcome = playRound(playerSelection, computerSelection);

                    console.log(outcome);
                }
            }
        </script>
    </body>
</html>