<!DOCTYPE html>
<html>
    <head>
        <title>Rock, Paper, Scissors</title>
        <meta charset="UTF-8">
    </head>
    <body>
        <script>
            //generates a random number from 0 to num (exclusive)
            function random(num) {
                return Math.floor(Math.random() * num);
            }
            
            function computerPlay() {
                let play = random(3);
                let hand;

                switch (play) {
                    case 0:
                        hand = "rock";
                        break;
                    case 1:
                        hand = "paper";
                        break;
                    case 2:
                        hand = "scissors";
                        break;
                    default:
                        hand = "";
                        console.log("Something went wrong when choosing paper, rock, or scissors");
                }

                console.log(`Computer chose ${hand}`)

                return hand;
            }

            function playRound(playerSelection, computerSelection) {
                if ((playerSelection == "rock" && computerSelection == "scissors") || 
                   (playerSelection == "scissors" && computerSelection == "paper") || 
                   (playerSelection == "paper" && computerSelection == "rock")) {
                    
                    return `You win! ${playerSelection} beats ${computerSelection}`;
                
                } else if ((computerSelection == "rock" && playerSelection == "scissors") || 
                   (computerSelection == "scissors" && playerSelection == "paper") || 
                   (computerSelection == "paper" && playerSelection == "rock")) {
                    
                    return `You lose! ${computerSelection} beats ${playerSelection}`;
                } else {
                    return `It's a tie!`;
                }
            }

            function game() {
                let playerSelection;
                let computerSelection;
                let outcome;

                for (i = 0; i < 5; i++) {
                    playerSelection = prompt("Rock, Paper, or Scissors?");
                    //clean up input
                    playerSelection = playerSelection.toLowerCase();

                    computerSelection = computerPlay();

                    outcome = playRound(playerSelection, computerSelection);

                    console.log(outcome);
                }
            }
            
            game();
        </script>
    </body>
</html>